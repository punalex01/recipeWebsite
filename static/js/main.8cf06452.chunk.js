(this.webpackJsonprecipe=this.webpackJsonprecipe||[]).push([[0],{26:function(e,t,n){},28:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(19),c=n.n(r),u=(n(26),n(7)),o=n.n(u),s=n(3),l=n(8),m=n(1),p=n(20),d=n.n(p);n(28);function g(e){var t=e.changeSearch;return i.a.createElement("input",{type:"text",id:"searchRecipes",onChange:t,className:"searchBar"})}function f(e){var t=e.recipeList,n=e.selectRecipe;function a(e){return n(e.target.getAttribute("recipeid"))}return t.map((function(e){return i.a.createElement("li",{className:"listItem",key:e.recipeID,recipeid:e.recipeID,onClick:a},e.recipeName)}))}function v(e){var t=e.clickedAddRecipe;return i.a.createElement("button",{type:"button",className:"button",id:"newRecipeButton",onClick:t},"New+")}var E=function(e){var t=e.clickedAddRecipe,n=e.recipeNameIdList,a=e.selectRecipe,r=e.getRecipes;i.a.useEffect((function(){r()}),[n]);var c=i.a.useState(""),u=Object(m.a)(c,2),o=u[0],s=u[1],l=n.filter((function(e){return e.recipeName.toLowerCase().includes(o.toLowerCase())}));return i.a.createElement("div",{className:"sideBar"},i.a.createElement(v,{clickedAddRecipe:t}),i.a.createElement(g,{changeSearch:function(e){s(e.target.value)}}),i.a.createElement(f,{recipeList:l,selectRecipe:a}))},I=n(21);function b(e){var t=e.name;i.a.useEffect((function(){c(t)}),[t]);var n=i.a.useState(t),a=Object(m.a)(n,2),r=a[0],c=a[1];return i.a.createElement("div",null,i.a.createElement("label",null,"Name"),i.a.createElement("input",{type:"text",className:"newRecipeInput",id:"nameInput",value:r,onChange:function(e){c(e.target.value)},required:!0}))}function h(e){var t=e.changeImg;return i.a.createElement("div",null,i.a.createElement("label",{for:"img"},"Picture:"),i.a.createElement("input",{type:"file",id:"img",name:"recipeImg",accept:"image/*",onChange:function(e){var n=new File([e.target.files[0]],"img");t(n)}}))}function y(e){var t=e.preptime,n=e.cooktime,a=e.serves;i.a.useEffect((function(){o(t),d(n),E(a)}),[t,n,a]);var r=i.a.useState(t),c=Object(m.a)(r,2),u=c[0],o=c[1],s=i.a.useState(n),l=Object(m.a)(s,2),p=l[0],d=l[1],g=i.a.useState(a),f=Object(m.a)(g,2),v=f[0],E=f[1];return i.a.createElement("div",{className:"smallInputs"},i.a.createElement("label",null,"Prep Time:"),i.a.createElement("input",{type:"text",className:"newRecipeInput",value:u,onChange:function(e){o(e.target.value)},id:"prepTime",required:!0}),i.a.createElement("label",null,"Cook Time:"),i.a.createElement("input",{type:"text",className:"newRecipeInput",value:p,onChange:function(e){d(e.target.value)},id:"cookTime",required:!0}),i.a.createElement("label",null,"Serves:"),i.a.createElement("input",{type:"text",className:"newRecipeInput",value:v,onChange:function(e){E(e.target.value)},id:"serves",required:!0}))}function N(e){var t=e.ingredientList;i.a.useEffect((function(){c(t)}),[]);var n=i.a.useState(t),a=Object(m.a)(n,2),r=a[0],c=a[1];return i.a.createElement("div",{className:"ingredientsContainer"},i.a.createElement("span",null,"Ingredient"),i.a.createElement("span",null,"Amount"),i.a.createElement(R,{ingredientList:r,removeIngredientPair:function(e){if(r.length>1){var t=Object(s.a)(r);t.splice(e.target.getAttribute("keyvalue"),1),c(t)}},ingredientNameInput:function(e,t){Object(s.a)(r)[t][0]=e},ingredientAmountInput:function(e,t){Object(s.a)(r)[t][1]=e}}),i.a.createElement("br",null),i.a.createElement("button",{type:"button",onClick:function(){c([].concat(Object(s.a)(r),[["Ingredient "+(r.length+1).toString(),""]]))}},"New Ingredient"))}function R(e){var t=e.ingredientList,n=e.removeIngredientPair,a=e.ingredientNameInput,r=e.ingredientAmountInput;return t.map((function(e){var c=t.indexOf(e);return i.a.createElement(k,{key:c,keyValue:c,ingredientName:e[0],ingredientAmount:e[1],removeIngredientPair:n,ingredientNameInput:a,ingredientAmountInput:r})}))}function k(e){var t=e.keyValue,n=e.ingredientName,a=e.ingredientAmount,r=e.removeIngredientPair,c=e.ingredientNameInput,u=e.ingredientAmountInput;i.a.useEffect((function(){p(n),v(a)}),[n,a]);var o=i.a.useState(n||""),s=Object(m.a)(o,2),l=s[0],p=s[1],d=i.a.useState(a||""),g=Object(m.a)(d,2),f=g[0],v=g[1];return i.a.createElement("div",{className:"ingredientPairInput"},i.a.createElement("input",{type:"text",className:"newRecipeInput ingredientInput",value:l,onChange:function(e){p(e.target.this),c(e.target.value,t)},required:!0}),i.a.createElement("input",{type:"text",className:"newRecipeInput ingredientAmountInput",value:f,onChange:function(e){v(e.target.this),u(e.target.value,t)},required:!0}),i.a.createElement("button",{type:"button",className:"removeButton",keyvalue:t,onClick:r},"X Remove Ingredient"))}function O(e){var t=e.instructionList;i.a.useEffect((function(){var e=[];t.forEach((function(t){e.push([t])})),c(e)}),[t]);var n=i.a.useState(t),a=Object(m.a)(n,2),r=a[0],c=a[1];return i.a.createElement("div",{className:"instructionsContainer"},i.a.createElement("span",{id:"instructionHeader"},"Instructions:"),i.a.createElement(w,{instructionList:r,removeInstruction:function(e){if(r.length>1){var t=Object(s.a)(r);t.splice(e.target.getAttribute("keyvalue"),1),c(t)}},editInstructionInput:function(e,t){var n=Object(s.a)(r);n[t][0]=e,console.log(n),c(n)}}),i.a.createElement("button",{type:"button",onClick:function(){c([].concat(Object(s.a)(r),[["Instruction "+(r.length+1).toString()]])),console.log(r)}},"New Instruction"))}function w(e){var t=e.instructionList,n=e.inputInstruction,a=e.removeInstruction,r=e.editInstructionInput;return t.map((function(e){return i.a.createElement(j,{key:t.indexOf(e),instructNum:t.indexOf(e),instruction:e,instructionList:t,changeInput:n,removeInstruction:a,editInstructionInput:r})}))}function j(e){var t=e.instructNum,n=e.instruction,a=e.removeInstruction,r=e.editInstructionInput;i.a.useEffect((function(){s(n)}),[n]);var c=i.a.useState(n),u=Object(m.a)(c,2),o=u[0],s=u[1];return i.a.createElement("div",{className:"instructionItem"},i.a.createElement("span",null,t+1,"."),i.a.createElement("br",null),i.a.createElement("textarea",{className:"instructionInput",value:o,onChange:function(e){s(e.target.value),r(e.target.value,t)},required:!0}),i.a.createElement("br",null),i.a.createElement("button",{type:"button",className:"removeButton",keyvalue:t,onClick:a},"X Remove Instruction"))}var C=function(e){var t,n=e.deleteRecipe,a=e.submitRecipe,r=e.recipe,c=i.a.useState(),u=Object(m.a)(c,2),o=u[0],s=u[1];return-1!==r.id&&(t=i.a.createElement("button",{type:"button",className:"button",id:"deleteButton",onClick:function(){n(r.id)}},"Delete Recipe")),i.a.createElement("div",{className:"addRecipePage"},i.a.createElement("span",{className:"title"},"New Recipe"),t,i.a.createElement("form",{className:"addRecipeForm",id:"editRecipeForm",onSubmit:function(e){e.preventDefault(),function(){var e=new FormData,t={};t.name=document.getElementById("nameInput").value,t.preptime=document.getElementById("prepTime").value,t.cooktime=document.getElementById("cookTime").value,t.serves=document.getElementById("serves").value;var n={};Array.from(document.getElementsByClassName("ingredientPairInput")).forEach((function(e){n[e.getElementsByClassName("ingredientInput")[0].value]=e.getElementsByClassName("ingredientAmountInput")[0].value})),t.ingredients=n,t.instructions=[],Array.from(document.getElementsByClassName("instructionItem")).forEach((function(e){t.instructions.push(e.getElementsByClassName("instructionInput")[0].value)})),t.id=r.id,e.append("recipe",JSON.stringify(t)),e.append("img",o);var i,c=Object(I.a)(e.entries());try{for(c.s();!(i=c.n()).done;){var u=i.value;console.log(u)}}catch(s){c.e(s)}finally{c.f()}a(e)}()}},i.a.createElement(b,{name:r.name}),i.a.createElement(h,{changeImg:s}),i.a.createElement(y,{preptime:r.preptime,cooktime:r.cooktime,serves:r.serves}),i.a.createElement(N,{ingredientList:Object.entries(r.ingredients)}),i.a.createElement(O,{instructionList:r.instructions}),i.a.createElement("br",null),i.a.createElement("button",{type:"submit",className:"submitButton button",id:"submitButton"},"Submit Recipe")))};var S=function(e){var t=e.recipeID;return i.a.createElement("div",{className:"recipeImageContainer"},i.a.createElement("img",{className:"recipeImage",src:"https://recipephotostorage.s3-us-west-1.amazonaws.com/recipeImages/".concat(t)}))};function P(e){var t=e.ingredients;return i.a.createElement("div",{className:"displayIngredients"},i.a.createElement("header",null,"Ingredients"),i.a.createElement("ul",null,t.map((function(e){return i.a.createElement("li",{key:e[0]},e[1]," ",e[0])}))))}function B(e){var t=e.instructions;return i.a.createElement("div",{className:"displayInstructions"},i.a.createElement("header",null,"Instructions"),i.a.createElement("ol",null,t.map((function(e){return i.a.createElement("li",{key:t.indexOf(e)},e)}))))}function A(e){var t=e.setMainPage,n=e.copyRecipe;return i.a.createElement("button",{type:"button",className:"button",id:"editRecipeButton",onClick:function(){t("EditRecipePage"),n()}},"Edit Recipe")}var x=function(e){var t=e.recipe,n=e.setMainPage,a=e.copyOriginalRecipe;return i.a.createElement("div",{className:"displayRecipePage"},i.a.createElement("div",{className:"titleImageContainer"},i.a.createElement(S,{recipeID:t.id}),i.a.createElement("h1",{className:"title"},t.name)),i.a.createElement("div",{className:"displaySmallContainer"},i.a.createElement("span",null,"Prep Time: ",t.preptime),i.a.createElement("span",null,"Cook Time: ",t.cooktime),i.a.createElement("span",null,"Serves: ",t.serves)),i.a.createElement(P,{ingredients:Object.entries(t.ingredients)}),i.a.createElement(B,{instructions:t.instructions}),i.a.createElement(A,{setMainPage:n,copyRecipe:function(){a(t)}}))},L=n(5),T=n.n(L);function D(){return i.a.createElement("div",{className:"header"},i.a.createElement("span",null,"Pungry"))}function q(e){var t,n=e.pageType,a=e.submitRecipe,r=e.recipe,c=e.setMainPage,u=e.copyOriginalRecipe,o=e.deleteRecipe;switch(n){case"Home":t=i.a.createElement(M,null);break;case"EditRecipePage":t=i.a.createElement(C,{deleteRecipe:o,submitRecipe:a,recipe:r});break;case"DisplayRecipe":t=i.a.createElement(x,{recipe:r,setMainPage:c,copyOriginalRecipe:u})}return i.a.createElement("div",{className:"mainPage"},t)}function M(){return i.a.createElement("span",null,"Home Page")}var F=function(){var e=i.a.useState("Home"),t=Object(m.a)(e,2),n=t[0],a=t[1],r=i.a.useState([]),c=Object(m.a)(r,2),u=c[0],p=c[1];function g(){return f.apply(this,arguments)}function f(){return(f=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){N({name:"",preptime:"",cooktime:"",serves:"",ingredients:{"Ingredient 1":""},instructions:["Instruction 1"],id:-1}),e(y)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return new Promise((function(t,n){w(e),t("yes"),n("no")}))}function I(){return(I=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v({name:"",preptime:"",cooktime:"",serves:"",ingredients:{"Ingredient 1":""},instructions:["Instruction 1"],id:-1}).then(g()),a("EditRecipePage");case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var b=i.a.useReducer((function(e,t){var n={};return n.name=t.name,n.preptime=t.preptime,n.cooktime=t.cooktime,n.serves=t.serves,n.ingredients=t.ingredients,n.instructions=Object(s.a)(t.instructions),n.id=t.id,n}),{name:"",preptime:"",cooktime:"",serves:"",ingredients:{"Ingredient 1":""},instructions:["Instruction 1"],id:-1}),h=Object(m.a)(b,2),y=h[0],N=h[1],R=i.a.useReducer((function(e,t){return d()(t,{$set:t})}),{name:"",preptime:"",cooktime:"",serves:"",ingredients:{"Ingredient 1":""},instructions:["Instruction 1"],id:-1}),k=Object(m.a)(R,2),O=k[0],w=k[1];function j(e){T()({method:"GET",url:"https://recipe-nodejs.herokuapp.com/selectRecipe?recipeId="+e.toString()}).then((function(e){N(e.data),a("DisplayRecipe")}))}return i.a.createElement(i.a.Fragment,null,i.a.createElement(D,null),i.a.createElement("div",{className:"container"},i.a.createElement(E,{clickedAddRecipe:function(){return I.apply(this,arguments)},recipeNameIdList:u,selectRecipe:j,getRecipes:function(){return new Promise((function(e){return setTimeout((function(){return e(T()({method:"GET",url:"https://recipe-nodejs.herokuapp.com/getRecipes"}).then((function(e){p(e.data)})))}),100)}))}}),i.a.createElement(q,{pageType:n,submitRecipe:function(e){-1===e.id||e.get("img")||e.get("recipe")!==JSON.stringify(O)?(document.getElementById("submitButton").setAttribute("disabled",!0),T()({method:"POST",url:"https://recipe-nodejs.herokuapp.com/addRecipe",header:{"content-type":"multipart/form-data"},data:e}).then((function(e){j(parseInt(e.data))}))):j(JSON.parse(e.get("recipe")).id)},recipe:y,setMainPage:a,copyOriginalRecipe:w,deleteRecipe:function(e){e>0&&T()({method:"POST",url:"https://recipe-nodejs.herokuapp.com/deleteRecipe",header:{"content-type":"application/x-www-form-urlencoded"},data:{recipeId:e}}).then((function(e){a("Home")}))}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(F,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[45,1,2]]]);
//# sourceMappingURL=main.8cf06452.chunk.js.map